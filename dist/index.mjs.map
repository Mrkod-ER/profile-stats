{"version":3,"sources":["../src/utils/fetcher.ts","../src/utils/errors.ts","../src/platforms/codeforces.ts","../src/platforms/leetcode.ts","../src/platforms/codechef.ts","../src/platforms/gfg.ts","../src/index.ts"],"sourcesContent":["// HTTP fetcher with timeout support\r\n\r\nexport async function fetchWithTimeout(\r\n    url: string,\r\n    options: RequestInit = {},\r\n    timeout: number = 10000\r\n): Promise<Response> {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n    try {\r\n        const response = await fetch(url, {\r\n            ...options,\r\n            signal: controller.signal,\r\n        });\r\n        clearTimeout(timeoutId);\r\n        return response;\r\n    } catch (error) {\r\n        clearTimeout(timeoutId);\r\n        if (error instanceof Error && error.name === 'AbortError') {\r\n            throw new Error(`Request timeout after ${timeout}ms`);\r\n        }\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function fetchJSON<T>(\r\n    url: string,\r\n    timeout: number = 10000\r\n): Promise<T> {\r\n    const response = await fetchWithTimeout(url, {}, timeout);\r\n\r\n    if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n    }\r\n\r\n    return response.json() as Promise<T>;\r\n}\r\n\r\nexport async function fetchHTML(\r\n    url: string,\r\n    timeout: number = 10000\r\n): Promise<string> {\r\n    const response = await fetchWithTimeout(url, {}, timeout);\r\n\r\n    if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n    }\r\n\r\n    return response.text();\r\n}\r\n","// Custom error classes\r\n\r\nexport class PlatformError extends Error {\r\n    constructor(\r\n        public platform: string,\r\n        message: string\r\n    ) {\r\n        super(`[${platform}] ${message}`);\r\n        this.name = 'PlatformError';\r\n    }\r\n}\r\n\r\nexport class TimeoutError extends Error {\r\n    constructor(\r\n        public platform: string,\r\n        public timeoutMs: number\r\n    ) {\r\n        super(`[${platform}] Request timeout after ${timeoutMs}ms`);\r\n        this.name = 'TimeoutError';\r\n    }\r\n}\r\n\r\nexport class UserNotFoundError extends Error {\r\n    constructor(\r\n        public platform: string,\r\n        public username: string\r\n    ) {\r\n        super(`[${platform}] User \"${username}\" not found`);\r\n        this.name = 'UserNotFoundError';\r\n    }\r\n}\r\n","// Codeforces platform fetcher\r\n\r\nimport { fetchJSON } from '../utils/fetcher.js';\r\nimport { UserNotFoundError, PlatformError } from '../utils/errors.js';\r\nimport type {\r\n    CodeforcesStats,\r\n    CodeforcesUserResponse,\r\n    CodeforcesSubmissionsResponse,\r\n    PlatformResult,\r\n    FetchOptions,\r\n} from '../types/index.js';\r\n\r\nconst PLATFORM = 'Codeforces';\r\nconst API_BASE = 'https://codeforces.com/api';\r\n\r\nexport async function getCodeforces(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<CodeforcesStats>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        // Fetch user info\r\n        const userUrl = `${API_BASE}/user.info?handles=${username}`;\r\n        const userResponse = await fetchJSON<CodeforcesUserResponse>(userUrl, timeout);\r\n\r\n        if (userResponse.status !== 'OK' || !userResponse.result.length) {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        const user = userResponse.result[0];\r\n\r\n        // Fetch submissions to count solved problems\r\n        const submissionsUrl = `${API_BASE}/user.status?handle=${username}`;\r\n        const submissionsResponse = await fetchJSON<CodeforcesSubmissionsResponse>(\r\n            submissionsUrl,\r\n            timeout\r\n        );\r\n\r\n        // Count unique accepted problems\r\n        const solvedProblems = new Set<string>();\r\n        if (submissionsResponse.status === 'OK') {\r\n            submissionsResponse.result.forEach((submission) => {\r\n                if (submission.verdict === 'OK') {\r\n                    const problemId = `${submission.problem.contestId}-${submission.problem.index}`;\r\n                    solvedProblems.add(problemId);\r\n                }\r\n            });\r\n        }\r\n\r\n        const stats: CodeforcesStats = {\r\n            username: user.handle,\r\n            rating: user.rating ?? 0,\r\n            maxRating: user.maxRating ?? 0,\r\n            rank: user.rank ?? 'unrated',\r\n            maxRank: user.maxRank ?? 'unrated',\r\n            solved: solvedProblems.size,\r\n            avatar: user.avatar.startsWith('//') ? `https:${user.avatar}` : user.avatar,\r\n        };\r\n\r\n        return { success: true, data: stats };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n\r\nexport async function getCodeforcesRaw(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<CodeforcesUserResponse>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        const url = `${API_BASE}/user.info?handles=${username}`;\r\n        const response = await fetchJSON<CodeforcesUserResponse>(url, timeout);\r\n\r\n        if (response.status !== 'OK') {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        return { success: true, data: response };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n","// LeetCode platform fetcher\r\n\r\nimport { fetchWithTimeout } from '../utils/fetcher.js';\r\nimport { UserNotFoundError, PlatformError } from '../utils/errors.js';\r\nimport type {\r\n    LeetCodeStats,\r\n    LeetCodeUserProfile,\r\n    LeetCodeContestRanking,\r\n    PlatformResult,\r\n    FetchOptions,\r\n} from '../types/index.js';\r\n\r\nconst PLATFORM = 'LeetCode';\r\nconst GRAPHQL_ENDPOINT = 'https://leetcode.com/graphql/';\r\n\r\nexport async function getLeetCode(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<LeetCodeStats>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        // GraphQL query for user profile and solved problems\r\n        const profileQuery = {\r\n            query: `\r\n        query userPublicProfile($username: String!) {\r\n          matchedUser(username: $username) {\r\n            username\r\n            profile {\r\n              realName\r\n              userAvatar\r\n              ranking\r\n            }\r\n            submitStats {\r\n              acSubmissionNum {\r\n                difficulty\r\n                count\r\n              }\r\n            }\r\n          }\r\n        }\r\n      `,\r\n            variables: { username },\r\n        };\r\n\r\n        const profileResponse = await fetchWithTimeout(\r\n            GRAPHQL_ENDPOINT,\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(profileQuery),\r\n            },\r\n            timeout\r\n        );\r\n\r\n        if (!profileResponse.ok) {\r\n            throw new Error(`HTTP ${profileResponse.status}`);\r\n        }\r\n\r\n        const profileData = (await profileResponse.json()) as { data: LeetCodeUserProfile };\r\n\r\n        if (!profileData.data.matchedUser) {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        const user = profileData.data.matchedUser;\r\n\r\n        // GraphQL query for contest ranking\r\n        const contestQuery = {\r\n            query: `\r\n        query userContestRankingInfo($username: String!) {\r\n          userContestRanking(username: $username) {\r\n            rating\r\n            globalRanking\r\n            attendedContestsCount\r\n          }\r\n        }\r\n      `,\r\n            variables: { username },\r\n        };\r\n\r\n        const contestResponse = await fetchWithTimeout(\r\n            GRAPHQL_ENDPOINT,\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(contestQuery),\r\n            },\r\n            timeout\r\n        );\r\n\r\n        const contestData = (await contestResponse.json()) as { data: LeetCodeContestRanking };\r\n\r\n        // Parse solved problems by difficulty\r\n        const solvedMap: Record<string, number> = {};\r\n        user.submitStats.acSubmissionNum.forEach((item) => {\r\n            solvedMap[item.difficulty] = item.count;\r\n        });\r\n\r\n        const stats: LeetCodeStats = {\r\n            username: user.username,\r\n            ranking: user.profile.ranking,\r\n            solved: {\r\n                total: solvedMap['All'] ?? 0,\r\n                easy: solvedMap['Easy'] ?? 0,\r\n                medium: solvedMap['Medium'] ?? 0,\r\n                hard: solvedMap['Hard'] ?? 0,\r\n            },\r\n            contestRating: contestData.data.userContestRanking?.rating,\r\n            contestRanking: contestData.data.userContestRanking?.globalRanking,\r\n            contestsAttended: contestData.data.userContestRanking?.attendedContestsCount,\r\n            avatar: user.profile.userAvatar,\r\n        };\r\n\r\n        return { success: true, data: stats };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n\r\nexport async function getLeetCodeRaw(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<LeetCodeUserProfile>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        const query = {\r\n            query: `\r\n        query userPublicProfile($username: String!) {\r\n          matchedUser(username: $username) {\r\n            username\r\n            profile {\r\n              realName\r\n              userAvatar\r\n              ranking\r\n            }\r\n            submitStats {\r\n              acSubmissionNum {\r\n                difficulty\r\n                count\r\n              }\r\n            }\r\n          }\r\n        }\r\n      `,\r\n            variables: { username },\r\n        };\r\n\r\n        const response = await fetchWithTimeout(\r\n            GRAPHQL_ENDPOINT,\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(query),\r\n            },\r\n            timeout\r\n        );\r\n\r\n        const data = (await response.json()) as { data: LeetCodeUserProfile };\r\n\r\n        if (!data.data.matchedUser) {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        return { success: true, data: data.data };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n","// CodeChef platform fetcher (HTML scraping)\r\n\r\nimport * as cheerio from 'cheerio';\r\nimport { fetchHTML } from '../utils/fetcher.js';\r\nimport { UserNotFoundError, PlatformError } from '../utils/errors.js';\r\nimport type { CodeChefStats, PlatformResult, FetchOptions } from '../types/index.js';\r\n\r\nconst PLATFORM = 'CodeChef';\r\nconst BASE_URL = 'https://www.codechef.com';\r\n\r\nexport async function getCodeChef(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<CodeChefStats>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        const url = `${BASE_URL}/users/${username}`;\r\n        const html = await fetchHTML(url, timeout);\r\n        const $ = cheerio.load(html);\r\n\r\n        // Check if user exists\r\n        if ($('h1:contains(\"404\")').length > 0 || $('title:contains(\"404\")').length > 0) {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        // Extract rating (current)\r\n        const ratingText = $('.rating-number').first().text().trim();\r\n        const rating = parseInt(ratingText) || 0;\r\n\r\n        // Extract max rating\r\n        const ratingHeader = $('.rating-header').text();\r\n        const maxRatingMatch = ratingHeader.match(/Highest Rating\\s*(\\d+)/i);\r\n        const maxRating = maxRatingMatch ? parseInt(maxRatingMatch[1]) : rating;\r\n\r\n        // Extract stars\r\n        const starsText = $('.rating-star').find('span').length;\r\n        const stars = starsText || 0;\r\n\r\n        // Extract solved count\r\n        // Look for h3 containing \"Total Problems Solved\"\r\n        const solvedHeader = $('h3:contains(\"Total Problems Solved\")').text();\r\n        const solvedMatch = solvedHeader.match(/Total Problems Solved:\\s*(\\d+)/i);\r\n        const solved = solvedMatch ? parseInt(solvedMatch[1]) : 0;\r\n\r\n        // Extract contests count\r\n        const contestsHeader = $('h3:contains(\"Contests\")').text();\r\n        const contestsMatch = contestsHeader.match(/Contests\\s*\\((\\d+)\\)/i);\r\n        const contests = contestsMatch ? parseInt(contestsMatch[1]) : 0;\r\n\r\n        // Extract global rank\r\n        const globalRankText = $('.rating-ranks ul li').first().find('.rank').text().trim();\r\n        const globalRank = parseInt(globalRankText.replace(/,/g, '')) || undefined;\r\n\r\n        // Extract country rank\r\n        const countryRankText = $('.rating-ranks ul li').eq(1).find('.rank').text().trim();\r\n        const countryRank = parseInt(countryRankText.replace(/,/g, '')) || undefined;\r\n\r\n        // Extract avatar\r\n        const avatarSrc = $('.user-profile-photo img').attr('src') || '';\r\n        const avatar = avatarSrc.startsWith('//') ? `https:${avatarSrc}` : avatarSrc;\r\n\r\n        const stats: CodeChefStats = {\r\n            username,\r\n            rating,\r\n            maxRating,\r\n            stars,\r\n            solved,\r\n            contests,\r\n            globalRank,\r\n            countryRank,\r\n            avatar: avatar || `${BASE_URL}/misc/default-profile-image.png`,\r\n        };\r\n\r\n        return { success: true, data: stats };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n\r\nexport async function getCodeChefRaw(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<string>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        const url = `${BASE_URL}/users/${username}`;\r\n        const html = await fetchHTML(url, timeout);\r\n\r\n        if (html.includes('404') || html.includes('Page not found')) {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        return { success: true, data: html };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n","// GeeksforGeeks platform fetcher (HTML scraping)\r\n\r\nimport * as cheerio from 'cheerio';\r\nimport { fetchHTML } from '../utils/fetcher.js';\r\nimport { UserNotFoundError, PlatformError } from '../utils/errors.js';\r\nimport type { GfGStats, PlatformResult, FetchOptions } from '../types/index.js';\r\n\r\nconst PLATFORM = 'GeeksforGeeks';\r\nconst BASE_URL = 'https://www.geeksforgeeks.org';\r\n\r\nexport async function getGfG(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<GfGStats>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        const url = `${BASE_URL}/profile/${username}`;\r\n        const html = await fetchHTML(url, timeout);\r\n\r\n        // Check for userData presence\r\n        if (!html.match(/\\\\?\"userData\\\\?\":/)) {\r\n            if (html.includes('404') || html.includes('User not found')) {\r\n                throw new UserNotFoundError(PLATFORM, username);\r\n            }\r\n            // fallback: if no userData but page loaded, maybe structure changed?\r\n            // for now throw error to be safe\r\n            throw new PlatformError(PLATFORM, 'Failed to find user data in profile page');\r\n        }\r\n\r\n        // Regex for fields (handling escaped quotes)\r\n        const scoreMatch = html.match(/\\\\?\"score\\\\?\":\\s*(\\d+)/);\r\n        const totalSolvedMatch = html.match(/\\\\?\"total_problems_solved\\\\?\":\\s*(\\d+)/);\r\n        const instituteRankMatch = html.match(/\\\\?\"institute_rank\\\\?\":\\s*(\\d+)/);\r\n        const avatarMatch = html.match(/\\\\?\"profile_image_url\\\\?\":\\s*\\\\?\"([^\"\\\\]+)\\\\?\"/);\r\n        const maxStreakMatch = html.match(/\\\\?\"pod_solved_global_longest_streak\\\\?\":\\s*(\\d+)/);\r\n        const currentStreakMatch = html.match(/\\\\?\"pod_solved_current_streak\\\\?\":\\s*(\\d+)/);\r\n\r\n        const codingScore = scoreMatch ? parseInt(scoreMatch[1]) : 0;\r\n        const totalSolved = totalSolvedMatch ? parseInt(totalSolvedMatch[1]) : 0;\r\n        const instituteRank = instituteRankMatch ? parseInt(instituteRankMatch[1]) : undefined;\r\n        // unescape avatar url if needed (usually just removal of backslashes)\r\n        let avatarUrl = avatarMatch ? avatarMatch[1].replace(/\\\\/g, '') : '';\r\n        const avatar = avatarUrl || `${BASE_URL}/img/default-profile.png`;\r\n        const maxStreak = maxStreakMatch ? parseInt(maxStreakMatch[1]) : 0;\r\n        const currentStreak = currentStreakMatch ? parseInt(currentStreakMatch[1]) : 0;\r\n\r\n        const stats: GfGStats = {\r\n            username,\r\n            codingScore,\r\n            solved: {\r\n                total: totalSolved,\r\n                easy: 0, // Not available in SSR HTML\r\n                medium: 0, // Not available in SSR HTML\r\n                hard: 0, // Not available in SSR HTML\r\n            },\r\n            currentStreak,\r\n            maxStreak,\r\n            instituteRank,\r\n            avatar,\r\n        };\r\n\r\n        return { success: true, data: stats };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n\r\nexport async function getGfGRaw(\r\n    username: string,\r\n    options: FetchOptions = {}\r\n): Promise<PlatformResult<string>> {\r\n    const timeout = options.timeout ?? 10000;\r\n\r\n    try {\r\n        const url = `${BASE_URL}/profile/${username}`;\r\n        const html = await fetchHTML(url, timeout);\r\n\r\n        if (html.includes('404') || html.includes('User not found')) {\r\n            throw new UserNotFoundError(PLATFORM, username);\r\n        }\r\n\r\n        return { success: true, data: html };\r\n    } catch (error) {\r\n        if (error instanceof UserNotFoundError) {\r\n            return { success: false, error: error.message };\r\n        }\r\n        const message = error instanceof Error ? error.message : 'Unknown error';\r\n        return { success: false, error: new PlatformError(PLATFORM, message).message };\r\n    }\r\n}\r\n","// Main SDK exports\r\n\r\nimport { getCodeforces, getCodeforcesRaw } from './platforms/codeforces.js';\r\nimport { getLeetCode, getLeetCodeRaw } from './platforms/leetcode.js';\r\nimport { getCodeChef, getCodeChefRaw } from './platforms/codechef.js';\r\nimport { getGfG, getGfGRaw } from './platforms/gfg.js';\r\n\r\nimport type {\r\n    UserHandles,\r\n    FetchOptions,\r\n    CodeforcesStats,\r\n    LeetCodeStats,\r\n    CodeChefStats,\r\n    GfGStats,\r\n    PlatformResult,\r\n} from './types/index.js';\r\n\r\n// Re-export types\r\nexport * from './types/index.js';\r\n\r\n// Re-export individual platform functions\r\nexport { getCodeforces, getCodeforcesRaw } from './platforms/codeforces.js';\r\nexport { getLeetCode, getLeetCodeRaw } from './platforms/leetcode.js';\r\nexport { getCodeChef, getCodeChefRaw } from './platforms/codechef.js';\r\nexport { getGfG, getGfGRaw } from './platforms/gfg.js';\r\n\r\n// Unified interface for all stats\r\nexport interface AllStats {\r\n    codeforces?: PlatformResult<CodeforcesStats>;\r\n    leetcode?: PlatformResult<LeetCodeStats>;\r\n    codechef?: PlatformResult<CodeChefStats>;\r\n    gfg?: PlatformResult<GfGStats>;\r\n}\r\n\r\n/**\r\n * Fetch stats from all specified platforms in parallel\r\n * @param handles - Object with platform usernames\r\n * @param options - Fetch options (timeout)\r\n * @returns Results from all platforms (successful and failed)\r\n */\r\nexport async function getAllStats(\r\n    handles: UserHandles,\r\n    options: FetchOptions = {}\r\n): Promise<AllStats> {\r\n    const promises: Promise<[string, PlatformResult<any>]>[] = [];\r\n\r\n    if (handles.codeforces) {\r\n        promises.push(\r\n            getCodeforces(handles.codeforces, options).then((result) => [\r\n                'codeforces',\r\n                result,\r\n            ] as [string, PlatformResult<CodeforcesStats>])\r\n        );\r\n    }\r\n\r\n    if (handles.leetcode) {\r\n        promises.push(\r\n            getLeetCode(handles.leetcode, options).then((result) => [\r\n                'leetcode',\r\n                result,\r\n            ] as [string, PlatformResult<LeetCodeStats>])\r\n        );\r\n    }\r\n\r\n    if (handles.codechef) {\r\n        promises.push(\r\n            getCodeChef(handles.codechef, options).then((result) => [\r\n                'codechef',\r\n                result,\r\n            ] as [string, PlatformResult<CodeChefStats>])\r\n        );\r\n    }\r\n\r\n    if (handles.gfg) {\r\n        promises.push(\r\n            getGfG(handles.gfg, options).then((result) => [\r\n                'gfg',\r\n                result,\r\n            ] as [string, PlatformResult<GfGStats>])\r\n        );\r\n    }\r\n\r\n    const results = await Promise.all(promises);\r\n\r\n    const stats: AllStats = {};\r\n    results.forEach(([platform, result]) => {\r\n        (stats as any)[platform] = result;\r\n    });\r\n\r\n    return stats;\r\n}\r\n"],"mappings":"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","names":["PLATFORM","PLATFORM","PLATFORM","BASE_URL"]}